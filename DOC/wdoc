#!/usr/bin/env bash
 
# directory where this script resides
export shd="`dirname $(readlink -f $0)`"
# name of this script 
export this_script=` basename $0 `

vim_opts="-n -p"
v="vim $vim_opts"
repos=( "config" "scripts" "templates" "vrt" "install" "doc-coms" "doc-cit" )

define_base_dirs(){
# {{{
# main Wales group software directory
export wg_dir="$shd/../../"
packdir=$HOME/arch/packed
unpackdir=$HOME/arch/unpacked
# }}}
}


set_base_vars(){
# {{{
s_purpose="view source files with vim"
s_project="Wales group svn repository"
s_project="~/scripts"
# }}}
}

set_base_vars

display_help(){
# {{{
# general beginning part {{{
cat << EOF
=============================================
SCRIPT NAME: $this_script 
PROJECT: $s_project
PURPOSE: $s_purpose
USAGE: $this_script [ OPTIONS ] 

	OPTIONS:

	============
	General
	============

			display the help message

	vm		v(iew) m(yself), i.e., edit this script
	
	============
EOF
# }}}
# actual interesting part {{{
cat << EOF

some option

EOF
# }}}
# final general part {{{
cat << EOF
REMARKS:
AUTHOR: O. Poplavskyy
=============================================
EOF
# }}}
# }}}
}

[ -z "$*" ] && ( display_help; exit 0 )

main(){
# {{{

case "$1" in
  kw) # keywords {{{
  # kwds_gmin: GMIN {{{
  kwds_gmin=( 2D ACCEPTRATIO ACE ACKLAND ALGLUE CISTRANS AMBERENERGIES AMCHPMAX
  AMCHPMIN AMCHNMAX AMCHNMIN AMH NINT_AMH HARM_AMH ANGSTROM ARGON ARM ARNO
  AVOID AXTELL BFGS BHPT BINARY BINSTRUCTURES BLJCLUSTER BLN BSMIN BSPT
  BSPTDUMPFRQ BSPTQRANGE BSPTRESTART BSWL CAPSID CENTRE CENTREXY SETCENTRE
  QUCENTRE CG AMBERMDSTEPS AMBER9 MODEL1 MOVABLEATOMS LIGMOVE CHANGEACCEPT
  FREEZEGROUP ROTAMER GROUPROTATION CHARMM CHARMMENERGIES CHARMMTYPE
  CHECKMARKOV CHMD CHPMAX CHPMIN CHNMAX CHNMIN NOPHIPSI TOMEGA CHFREQ
  CHRIGIDTRANS CHRIGIDROT FIXEDEND OSASA ODIHE OEINT ORGYR CNORANDOM CPERMDIHE
  COLDFUSION COMPRESS COOPMOVE CPMD CSM CUTOFF D5H DBRENT DEBUG DECAY DFTB
  DGUESS DIELEC DIFFRACT DIPOLES DL_POLY DONTMOVE DONTMOVEGROUP DONTMOVEALL
  DONTMOVERES DUMP DUMPINT DZUGUTOV EAMAL EAMLJ EDIFF EQUILIBRATION EVSTEP
  EXPFAC FAKEWATER FAL FIXBOTH FIXCOM FIXD FIXSTEP FIXTEMP FNI FRAUSI FREEZE
  FREEZERES FREEZEALL FS G46 GAMMA GAUSS GROUND GUIDE GUPTA HISTSMOOTH HISTTEMP
  IH INTMIN JM JUMPMOVE LB2 LOCALSAMPLE LJMF MAKEOLIGO MAXBFGS MAXERISE MAXIT
  MGGLUE MORSE MPI MSORIG MSTRANS MULLERBROWN MULTIPLICITY MYSD NATB NEON
  NEWCONF NEWJUMP NEWRESTART NMAX NMIN NOCHIRALCHECKS UACHIRAL NOCISTRANS
  NOCISTRANSDNA NOCISTRANSRNA NOFREEZE NORESET OH OTP P46 PACHECO PAH PAIRDIST
  PARALLEL PBGLUE PERIODIC PERMDIST PERMOPT PLUS PMAX PMIN POWER PROJI PROJIH
  PRTFRQ PTMC PULL Q4 QCUTOFF QDTEST2 QDTEST QUAD QUENCHDOS RADIUS RANSEED
  RCUTOFF READMSB RENORM RESIZE RESTART RESTORE RGCL2 RINGROTSCALE RKMIN RMS
  SAVE SAVEINTE SC SEED SHELLMOVE SHIFTCUT SIDESTEP SORT CSQUEEZE STAR STEP
  STEEREDMIN TRACKDATA STEPOUT STEPS STICKY LJCOUL STOCK CHECKD DBP DBPTD DBLPY
  DMBLM LINROD LWOTP NCAP NPAH NTIP PATCHY ASAOOS STOCKAA MSSTK MSBIN MULTPAHA
  TDHD WATERDC WATERKZ GB GBD GBDP GEM PAHA PAHW99 PYG PYGDP MSGB MSPYG
  MULTISITEPY GAYBERNE PARAMONOV PYOVERLAPTHRESH PYGPERIODIC LJCAPSID
  EXTRALJSITE EXTRALJSITEATTR LJSITECOORDS SWAPMOVES PYBINARY GAYBERNEDC STRAND
  SUPERSTEP SW SETCHIRAL SYMMETRISE SYMMETRISECSM TABOO TARGET TD TEMPERATURE
  TETHER THOMSON THRESHOLD TIP CTN TOLBRENT TOLD TOLE TOSI TSALLIS TWOPLUS
  UPDATES VGW VGWCPS VGWCPF VGWTOL VISITPROP TSTAR WELCH WENZEL ZETT1 ZETT2 
  )
#}}}
# kwds_optim: OPTIM {{{
kwds_optim=( 2D ACE ADJUSTK ADM ACKLAND ALPHA ALLPOINTS AMBER AMH AMBER9
AMBERIC ANGLEAXIS ARCTOL AXIS BBCART BBRSDM BFGSCONV BFGSMIN BFGSSTEP BFGSSTEPS
BFGSTS BFGSTSTOL BHDEBUG BHINTERP BHINTERPUSELOWEST BINARY BISECT BISECTDEBUG
BOND BLN BOWMAN BSMIN BULK CADPAC CALCDIHE CALCRATES CAPSID CAPSID2
CARTRESSTART CHARMM CHARMMTYPE CHDEBUG CHECKCHIRALITY CHECKINDEX CHECKCONT
CONINT CHINTERPOLATE CHRIGID CISTRANS COLDFUSION CONNECT CONPOT CONSEC CONVERGE
CPMD_COMMAND CUBIC CUBSPL D5H DB DBTD DCHECK DEBUG DESMAXAVGE DESMDEBUG DESMINT
DFTB DGUESS DIJKSTRA DIJKSTRALOCAL DOUBLE DNEBSWITCH DQAGKEY DRAG DUMPALLPATHS
DUMPDATA DUMPPATH DUMPSP DUMPVECTOR EDIFFTOL EFIELD EFSTEPS ENDHESS ENDNUMHESS
EVCUT EVOLVESTRING EXTRALJSITE EXTRALJSITEATTR LJSITECOORDS PYBINARY EXTRASTEPS
FAKEWATER FILTH FIXAFTER FIXATMS FIXD FRACTIONAL FREEZE FREEZERES FREEZEGROUP
DUMPMODE FREEZENODES GAMESS-UK GAMESS-US GAUSSIAN GB GBD GDIIS GEOMDIFFTOL GOT
GRADIENTS GRADSQ GREATCIRCLE GROWSTRING GSMAXTOTITD GUESSPATH GUESSTS GUPTA
HESSGRAD HIGHESTIMAGE HUPDATE HYBRIDMIN IH IMSEP INDEX INTCONSTRAINT INTLJ
INTERPBACKTCUT INTERPCHOICE INTINTERP INTERPSIMPLE INTMIN INTMINPERM INTPARFILE
KEEPINDEX KTWN LANCZOS LWOTP LOWESTFRQ MACHINE MASS MAXBARRIER MAXMAXBARRIER
MAXBFGS MAXCON MAXERISE MAXFAIL MAXGROWSTEPS MAXLENPERIM MAXMAX MAXSTEP
MAXTSENERGY MECCANO MINMAX MINBACKTCUT MODE MORPH MOVIE MSEVBPARAMS MSSTOCK
NATB NATINT NCAP NEB NEBREADGUESS NEBRESEED NGUESS UACHIRAL NOCISTRANS NOFRQS
NOHESS NOINTNEWT NOIT NOLBFGS NONLOCAL NOPERMPROCHIRAL NOPOINTS NORANDOM
NORESET NTIP ODIHE OH OLDINTMINPERM OSASA PAHA PARALLEL PARAMS PATCHYD PATH
PERMDIHE PATHSDSTEPS PERMDIHE PERTDIHE PREROTATE PRESSURE PRINT
PRINTCOEFFICIENTS PRINTCOORDS PULL PUSHCUT PUSHOFF PV PVTS PYG PYBINARY
CLOSESTALIGNMENT PYGPERIODIC QSPCFW QTIP4PF RADIUS RANSEED RATIOS RBSYM
READPATH READSP READHESS CREBUILDSC REALIGNXYZ REDOPATH REDOPATHNEB REDOPATHXYZ
REDUCEDBONDLENGTH REOPT REOPTIMISEENDPOINTS REPELTS RESIZE RING RINGPOLYMER
RKMIN ROT RPFIX RPLINEAR SCALE SCORE_QUEUE SEARCH SHIFT SIO2 SIO2C6 STEPMIN
STEPS SD STOCK STOCKSPIN ST STOPDISP STOPFIRST SUMMARY SYMCUT TAG TANTYPE TD
TIMELIMIT TOLD TOLE TOMEGA TOSIPOL TRAD TRAP TSIDECHAIN TWISTDIHE TWISTTYPE
TWOENDS UNIAX UNRES USEDIAG USEEV UPDATES VALUES VARIABLES VECTORS WELCH ZEROS)
#}}}
# kwds_ps: PATHSAMPLE {{{
kwds_ps=( ADDPATH ADDPERM ADDTRIPLES ANGLEAXIS ANGLEAXIS2 AMBER9 NAB AMH AMHQ
AMHQCONT AMHRMSD AMHRELQ AMH_RELCO AMHALLATOMMIN AMHALLATOMTS ARNOLDI BHINTERP
BISECT BULK CALCORDER CAPSID CHARMM CHECKCONNECTIONS CONINT CLOSEFILES
CONNECTIONS CONNECTREGION COPYFILES COPYOPTIM CPUS CV CYCLES DB DBTD DEBUG DIAG
DIJINITCONT DIJINITSTART DIJINITCONTFLY DIJINITSTARTFLY DIJKSTRA DIJKSTRAWAIT
DIJPAIR DIRECTION DOCK DOS DSCALE DUMMYRUN DUMMYTS DUMPGROUPS EDIFFTOL EFLD
ENERGY ETOL EVCUT EXEC EXECGMIN EXTRACTMIN EXTRACTTS FREEPAIRS FREEZE FRICTION
GEOMDIFFTOL GT INTCONSTRAINT INTLJ ITOL JOBSPERNODE NCONNMIN KMC NGT KMCCOMMIT
KSHORTESTPATHS LOWESTFRQ MACHINE MAXBARRIER MAXCON MAXDOWNBARRIER MAXTSENERGY
MERGEDB MSSTOCK NATOMS NINTS NOFRQS NOPOINTS ORDER PAHA PAIRLIST PATCHYD
PERTURB PFOLD PLANCK PSCALE PULL RBAA RBSYM READMIN REGROUP REGROUPFREE
REGROUPFREEAB REGROUPPE REGROUPRATE REMOVESP REMOVEUNCONNECTED RETAINSP
REWEIGHT RIGIDBODIES SEED SHORTCUT SIS ST SLURM STARTFROMPATH STARTTRIPLES
SYSTEM TAG TEMPERATURE TFOLD TRIPLES TSTHRESH TWOD UNRES UNTRAP USEPAIRS 
)
#}}}

kwds=( ${kwds_gmin[@]} ${kwds_optim[@]} ${kwds_ps[@]} )
for kwd in ${kwds[@]}; do
	cat wg.tex | sed "s/\{[\t ]*\\it[ \t]*$kwd \}/\\keyw\{$kwd\}/g" > wgn.tex
done
  ;;
  # }}}
  *)
  ;;
esac    # --- end of case ---

# }}}
}

# main part 
# {{{

script_opts=( $* )
define_base_dirs

while [ ! -z "$1" ]; do
  	case "$1" in
		  #{{{
	  	vm) $v $0; exit ;;
		h) display_help $*; exit ;;
	  	*) main $* && exit 0 ;;
	esac
  	shift
        #}}}
done

# }}}


